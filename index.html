<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Langit Falakiyah 4D âœ¦ Al-Hikmah v2.9a Auratik Supreme Sky</title>

<!-- FONT MISTIK -->
<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Cormorant+Garamond:wght@500;700&display=swap" rel="stylesheet">

<!-- FAVICON -->
<link rel="icon" href="favicon.png" type="image/png">

<style>
html,body{
  margin:0;padding:0;overflow:hidden;height:100%;
  color:#f0e6b2;
  font-family:'Cormorant Garamond',serif;
  transition:background 3s ease;
}

/* MODE SIANG MALAM */
body.day{
  background:radial-gradient(circle at center,#1d2a5a 0%,#001020 100%);
}
body.night{
  background:radial-gradient(circle at center,#060b18 0%,#000010 100%);
}

/* KABUT LOADING */
#loader{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:radial-gradient(circle at center,#000014,#020410,#000010);
  color:#f6e9b5;
  display:flex;flex-direction:column;justify-content:center;align-items:center;
  font-family:'Cinzel Decorative',serif;z-index:10;
  text-align:center;opacity:1;transition:opacity 2s ease-in-out;
}
#loader.fade{opacity:0;pointer-events:none;}
#fog{
  position:absolute;top:0;left:0;width:100%;height:100%;
  background:url('https://cdn.pixabay.com/photo/2017/08/30/01/05/mist-2698470_1280.png');
  background-size:cover;
  animation:moveFog 20s linear infinite alternate;
  opacity:0.25;
}
@keyframes moveFog{
  from{transform:translateX(-20px);}
  to{transform:translateX(20px);}
}

/* KONTEN UTAMA */
canvas{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:0;}
#intro,#main{
  position:absolute;top:0;left:0;width:100%;height:100%;
  display:flex;flex-direction:column;justify-content:center;align-items:center;
  text-align:center;color:#f0e6b2;transition:opacity 2s ease-in-out;z-index:2;
}
h1{
  font-family:'Cinzel Decorative',serif;
  font-size:1.7em;text-shadow:0 0 12px #e8c85a,0 0 22px #b5962b;margin-bottom:0.3em;
}
h2{font-size:1.05em;color:#f7e9b4;margin-top:0;text-shadow:0 0 10px #bfa84e;}
.quoteBox{
  position:relative;height:110px;margin-top:12px;overflow:hidden;max-width:350px;
}
.quote{
  width:100%;opacity:0;transform:translateY(20px);
  transition:opacity 2s ease,transform 2s ease;
  font-size:0.9em;font-style:italic;line-height:1.45;
  color:#fff7d6;text-shadow:0 0 6px #c7a64f;
}
.quote.active{opacity:1;transform:translateY(0);}
button{
  font-family:'Cormorant Garamond',serif;background:rgba(255,255,255,0.05);
  border:1px solid #d8c471;border-radius:10px;color:#f5e8b8;
  padding:8px 16px;margin:6px;font-size:1em;backdrop-filter:blur(3px);
  transition:all 0.3s;
}
button:hover{background:rgba(255,255,255,0.1);transform:scale(1.05);box-shadow:0 0 15px #bfa84e;}
#audioBtn{
  position:fixed;top:15px;right:15px;background:rgba(255,255,255,0.1);
  border:1px solid gold;border-radius:50%;width:40px;height:40px;font-size:20px;
  color:gold;cursor:pointer;text-shadow:0 0 10px gold;
  display:flex;align-items:center;justify-content:center;z-index:3;
}
.author,footer{
  opacity:0;animation:fadeUp 3s ease forwards;animation-delay:2s;
}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
.author{margin-top:10px;font-size:0.85em;color:#d3b96f;}
footer{position:absolute;bottom:8px;right:15px;font-size:0.75em;color:#d3b96f;font-family:'Cinzel Decorative',serif;}
#timeInfo{
  margin-top:85px;font-size:1.05em;color:#f5e9c1;text-shadow:0 0 6px #bfa84e;
}
</style>
</head>
<body>

<!-- KABUT LOADING -->
<div id="loader">
  <div id="fog"></div>
  <h1>âœ¦ Sedang membuka langit dan waktu âœ¦</h1>
  <p style="font-size:0.9em;margin-top:10px;">Tunggulah sejenak hingga tabir falak terbuka...</p>
</div>

<canvas id="universe"></canvas>

<!-- HALAMAN PEMBUKA -->
<div id="intro">
  <h1>Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘Ù°Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…Ù°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ’Ù…Ù</h1>
  <p class="quote">"Langit dan waktu adalah rahasia perjalanan ruh di bawah ketetapan-Nya."</p>
  <button onclick="startMain()">Masuk ke Langit Falakiyah</button>
</div>

<!-- HALAMAN UTAMA -->
<div id="main" style="opacity:0;pointer-events:none;">
  <h1 style="margin-top:-20px;">Perhitungan Falaqiyah Al-Hikmah</h1>
  <h2>Ø³Ø± Ø§Ù„ÙˆÙ‚Øª â€” Rahasia Waktu</h2>

  <div class="quoteBox" id="quoteBox">
    <div class="quote active" id="quoteText">
      â€œHari-hari dalam sepekan berada di bawah kekuasaan planet-planet; tiap hari memiliki tabiat serta pengaruhnya masing-masing.â€<br>
      <small>â€” <i>Shams al-Maâ€˜Ärif</i>, Bab <i>SÄâ€˜Ät al-KawÄkib</i></small>
    </div>
  </div>

  <div id="timeInfo">
    ğŸŒ Penguasa Hari: <span id="hari"></span><br>
    â³ Planet Jam Aktif: <span id="planet"></span><br>
    ğŸ•’ <span id="jam"></span><br>
    â˜€ Pergantian Penguasa Hari: setelah matahari terbit
  </div>

  <div style="margin-top:10px;">
    <button>ğŸ•¯ Saâ€™at Amal</button>
    <button>ğŸŒ  Waktu Mustajab</button>
    <button>ğŸ•Š Doâ€™a & Niat</button>
    <button>ğŸ“œ Info Falakiyah</button>
  </div>

  <div class="author">Diprakarsai oleh : Endry Arya</div>
  <footer>Â© CBA2025</footer>
</div>

<!-- AUDIO -->
<div id="audioBtn">ğŸ”Š</div>
<audio id="music" loop>
  <source src="https://cdn.pixabay.com/download/audio/2023/03/13/audio_272e74d47a.mp3?filename=arabic-background-music-141121.mp3" type="audio/mpeg">
</audio>

<script>
const music=document.getElementById("music");
music.volume=0;
setTimeout(()=>{music.play();let v=0;const fade=setInterval(()=>{v+=0.01;if(v>=0.4)clearInterval(fade);music.volume=v;},200);},4000);
document.getElementById("audioBtn").onclick=()=>{music.paused?music.play():music.pause();};

// ğŸŒ— MODE SIANG MALAM
function setSkyMode(){
  const h=new Date().getHours();
  if(h>=5 && h<18){document.body.className='day';}
  else{document.body.className='night';}
}
setSkyMode();
setInterval(setSkyMode,60000);

// LOADER TRANSISI
window.addEventListener('load',()=>{
  setTimeout(()=>{
    document.getElementById('loader').classList.add('fade');
  },3000);
});

// ğŸ”® TRANSISI HALAMAN
function startMain(){
  document.getElementById('intro').style.opacity='0';
  setTimeout(()=>{
    document.getElementById('intro').style.display='none';
    const main=document.getElementById('main');
    main.style.opacity='1';
    main.style.pointerEvents='auto';
    showPlanets=true;
    setTimeout(initQuotes,2000);
  },1500);
}

// ğŸ” KUTIPAN BERGANTI
let starFade=1,auraPulse=0;
function initQuotes(){
  const el=document.getElementById('quoteText');
  const quotes=[
    "â€œHari-hari dalam sepekan berada di bawah kekuasaan planet-planet; tiap hari memiliki tabiat serta pengaruhnya masing-masing.â€<br><small>â€” <i>Shams al-Maâ€˜Ärif</i></small>",
    "â€œSetiap jam memiliki planet yang berkuasa padanya; maka lakukanlah amal pada waktunya, niscaya engkau memperoleh rahmatnya.â€<br><small>â€” <i>Shams al-Maâ€˜Ärif</i></small>"
  ];
  let i=0;
  setInterval(()=>{
    el.classList.remove('active');
    starFade=0.5;setTimeout(()=>{starFade=1;},2000);
    setTimeout(()=>{
      i=(i+1)%quotes.length;
      el.innerHTML=quotes[i];
      el.classList.add('active');
    },1000);
  },12000);
}

// ğŸŒ FALAK WAKTU
const planetHari=["Syams","Qamar","MarÄ«kh","UtÄrid","MusytarÄ«","Zuhrah","Zuhal"];
function getPenguasaHari(){
  const now=new Date();const sunrise=6;let h=now.getHours();
  let idx=(now.getDay()+6)%7;if(h>=sunrise)idx=(idx+1)%7;
  return planetHari[idx];
}
const hariElem=document.getElementById('hari');
const planetElem=document.getElementById('planet');
const jamElem=document.getElementById('jam');
const planetOrder=["Qamar","UtÄrid","Zuhrah","Syams","MarÄ«kh","MusytarÄ«","Zuhal"];
function updateTime(){
  const d=new Date();
  hariElem.textContent=getPenguasaHari();
  planetElem.textContent=planetOrder[d.getHours()%7];
  jamElem.textContent=d.toLocaleTimeString('id-ID',{hour12:false});
}
setInterval(updateTime,1000);

// ğŸŒŒ LANGIT FALAKIYAH 4D
const canvas=document.getElementById("universe");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;canvas.height=innerHeight;
function makeStar(){return{x:(Math.random()*2-1)*canvas.width,y:(Math.random()*2-1)*canvas.height,z:Math.random()*canvas.width};}
const stars=Array(1300).fill().map(makeStar);
let showPlanets=false;
const planets=[
  {name:"â˜‰ Syams",r:30,orbit:0,dist:0,color:"#FFD86C",speed:0.000},
  {name:"â˜¿ UtÄrid",r:14,orbit:90,dist:140,color:"#A68E74",speed:0.00017},
  {name:"â™€ Zuhrah",r:20,orbit:120,dist:190,color:"#E8B888",speed:0.00014},
  {name:"â˜¾ Qamar",r:16,orbit:230,dist:250,color:"#CDE3F3",speed:0.00012},
  {name:"â™‚ MarÄ«kh",r:25,orbit:310,dist:320,color:"#D67045",speed:0.0001},
  {name:"â™ƒ MusytarÄ«",r:40,orbit:400,dist:400,color:"#E8CDA2",speed:0.00009},
  {name:"â™„ Zuhal",r:36,orbit:480,dist:470,color:"#C5BA9D",speed:0.00008}
];
function drawPlanet(p,cx,cy,t){
  let x=cx+(p.dist>0?Math.cos(t*p.speed+p.orbit)*p.dist:0);
  let y=cy+(p.dist>0?Math.sin(t*p.speed+p.orbit)*p.dist:0);
  let grad=ctx.createRadialGradient(x,y,p.r*0.1,x,y,p.r);
  grad.addColorStop(0,"#fff");
  grad.addColorStop(0.3,p.color);
  grad.addColorStop(1,"rgba(0,0,0,0.8)");
  ctx.beginPath();ctx.fillStyle=grad;ctx.arc(x,y,p.r,0,Math.PI*2);ctx.fill();
  ctx.beginPath();ctx.strokeStyle=`rgba(255,215,130,0.08)`;ctx.arc(cx,cy,p.dist,0,Math.PI*2);ctx.stroke();
  ctx.font="15px 'Cormorant Garamond'";ctx.fillStyle="gold";ctx.textAlign="center";
  ctx.fillText(p.name,x,y-p.r-8);
}
function animate(t){
  ctx.fillStyle="rgba(8,12,28,0.9)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  stars.forEach(s=>{
    s.z-=1.5;if(s.z<=0){Object.assign(s,makeStar());s.z=canvas.width;}
    const k=200/s.z;
    const px=s.x*k+canvas.width/2;
    const py=s.y*k+canvas.height/2;
    if(px>=0&&px<canvas.width&&py>=0&&py<canvas.height){
      ctx.fillStyle=`rgba(255,255,230,${0.8*starFade})`;
      ctx.fillRect(px,py,1,1);
    }
  });
  const cx=canvas.width/2,cy=canvas.height/2;
  if(showPlanets)planets.forEach(p=>drawPlanet(p,cx,cy,t));
  requestAnimationFrame(animate);
}
animate(0);
</script>
</body>
</html>